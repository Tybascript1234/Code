<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body> 
    <input type="text" class="writingBox only12345" placeholder="Enter text" autofocus />
        <div class="content12345">
        <div class="cont12345">
            <div class="cons12345">
                <button class="wave-button tab-btn flash123" data-target="div1"><icon style="background-image: url(icons/language.svg);"></icon></button>
                <button class="wave-button tab-btn flash123" data-target="div2"><icon style="background-image: url(icons/code.svg);"></icon></button>
                <button class="wave-button flash123" id="clearTextBtn"><icon style="background-image: url(icons/backspace.svg);"></icon></button>
                <button class="wave-button tab-btn flash123" style="border: none;" data-target="div3"><icon style="background-image: url(icons/settings.svg);"></icon></button>
            </div>
        </div>
        <!-- --- -->
        <div class="div12345e">
            <!-- language -->
            <div class="cont23445 content-div" id="div1">
                <div id="keyboard"></div>
                <div class="flex">
                    <button id="toggleCaps" class="only12345 wave-button" style="display: block;margin-left: 5px;">ğŸ”  ÙƒØ§Ø¨ØªÙ„</button>
                    <select name="" id="languageSelect" class="only12345 wave-button"></select>
                </div>
            </div>
            <!-- code -->
            <div class="cont23445 content-div" id="div2">
                <div id="symbols"></div>
            </div>
            <!-- settings -->
            <div class="cont23445 content-div" id="div3">
                <label>Ø­Ø¬Ù… Ø§Ù„Ø®Ø·:
                    <input type="range" id="fontSizeRange" min="10" max="40" value="16">
                </label>
              
                <label>Ø§Ø³ØªØ¯Ø§Ø±Ø© Ø§Ù„Ø­ÙˆØ§Ù:
                    <input type="range" id="radiusRange" min="0" max="30" value="5">
                </label>
              
                <label>ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ©:
                    <input type="file" id="bgInput" style="display: none;" accept="image/*">
                    <label for="bgInput" class="only12345 wave-button">ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ©</label>
                </label>
              
                <button id="removeBgBtn" class="only12345 wave-button" style="display: none;">âŒ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØµÙˆØ±Ø©</button>
              
                <!-- Ø²Ø± Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„ØºØ© -->
                <button id="languageSettingsBtn" class="only12345 wave-button">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„ØºØ©</button>
                
                <!-- Ø£Ø¶ÙØª Ø­Ù‚Ù„ Ø¥Ø¶Ø§ÙØ© Ø¥ÙŠÙ…ÙˆØ¬ÙŠ/ØµÙˆØ±Ø© Ù‡Ù†Ø§ -->
                <label>Ø¥Ø¶Ø§ÙØ© Ø¥ÙŠÙ…ÙˆØ¬ÙŠ/ØµÙˆØ±Ø©:
                    <input type="file" id="emojiInput" accept="image/*">
                </label>
                
                <div class="cont23445" id="languageSettings">
                    <div>
                        <div class="zex12345">
                            <h3>Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ§Øª Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ ØªÙ…ÙƒÙŠÙ†Ù‡Ø§</h3>
                            <button id="closeSettings" class="only12345 wave-button"><icon style="background-image: url(icons/arrow_forward\ â¡ï¸.svg);"></icon></button>
                        </div>
                        
                        <ul id="languagesList"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
    window.addEventListener("load", function () {
        setTimeout(() => {
            if (!window.alertOpen) {
                initializeWaveButtons();
            }
        }, 100);

        function initializeWaveButtons() {
            const elements = document.querySelectorAll('.wave-button');

            elements.forEach(element => {
                let isRippleActive = false;

                function createRipple(e) {
                    if (isRippleActive) return;

                    isRippleActive = true;

                    const ripple = document.createElement('span');
                    const rect = element.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);

                    // Ù‡Ù†Ø§ Ù†Ø¬Ø¹Ù„Ù‡Ø§ Ø¯Ø§Ø¦Ù…Ù‹Ø§ ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ
                    const x = rect.width / 2 - size / 2;
                    const y = rect.height / 2 - size / 2;

                    ripple.style.width = ripple.style.height = `${size}px`;
                    ripple.style.left = `${x}px`;
                    ripple.style.top = `${y}px`;
                    ripple.classList.add('ripple');

                    element.appendChild(ripple);

                    setTimeout(() => {
                        ripple.remove();
                        isRippleActive = false;
                    }, 600);
                }

                element.addEventListener('mousedown', createRipple);
                element.addEventListener('touchstart', createRipple);
            });
        }
    });


    document.addEventListener("DOMContentLoaded", function () {
  const buttons = document.querySelectorAll('.tab-btn');
  const divs = document.querySelectorAll('.content-div');

  // ØªØ­Ø¯ÙŠØ¯ Ø£ÙˆÙ„ Ø²Ø± ÙˆØ£ÙˆÙ„ Ø¯ÙŠÙ
  const firstButton = buttons[0];
  const firstDiv = divs[0];

  // Ø¥Ø¹Ø·Ø§Ø¡ ÙƒÙ„Ø§Ø³ rely Ù„Ø£ÙˆÙ„ Ø²Ø±
  if (firstButton) {
    firstButton.classList.add('rely');
  }

  // Ø¥Ø¸Ù‡Ø§Ø± Ø£ÙˆÙ„ Ø¯ÙŠÙ
  if (firstDiv) {
    firstDiv.classList.add('show');
  }

  // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
  buttons.forEach(button => {
    button.addEventListener('click', () => {
      // Ø¥Ø²Ø§Ù„Ø© ÙƒÙ„Ø§Ø³ rely Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
      buttons.forEach(btn => btn.classList.remove('rely'));

      // Ø¥Ø¶Ø§ÙØ© ÙƒÙ„Ø§Ø³ rely Ù„Ù„Ø²Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ
      button.classList.add('rely');

      // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯ÙŠÙØ§Øª
      divs.forEach(div => div.classList.remove('show'));

      // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¯ÙŠÙ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
      const targetId = button.getAttribute('data-target');
      const targetDiv = document.getElementById(targetId);
      if (targetDiv) {
        targetDiv.classList.add('show');
      }
    });
  });
});

    </script>

    <script>
const languageLetters = {
    // Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© (Ù…Ø­Ø¯Ø¯Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§)
    "English": "q w e r t y u i o p a s d f g h j k l z x c v b n m".split(" "),
    "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": "Ø¶ Øµ Ø« Ù‚ Ù Øº Ø¹ Ù‡ Ø® Ø­ Ø¬ Ø¯ Ø´ Ø³ ÙŠ Ø¨ Ù„ Ø§ Øª Ù† Ù… Ùƒ Ø· Ø¦ Ø¡ Ø¤ Ø± Ù„Ø§ Ù‰ Ø© Ùˆ Ø² Ø¸".split(" "),
    "FranÃ§ais": "a z e r t y u i o p q s d f g h j k l m w x c v b n".split(" "),
    "EspaÃ±ol": "q w e r t y u i o p a s d f g h j k l Ã± z x c v b n m".split(" "),
    "Deutsch": "q w e r t z u i o p Ã¼ a s d f g h j k l Ã¶ Ã¤ y x c v b n m".split(" "),
    "Ñ€ÑƒÑÑĞºĞ¸Ğ¹": "Ğ¹ Ñ† Ñƒ Ğº Ğµ Ğ½ Ğ³ Ñˆ Ñ‰ Ğ· Ñ… ÑŠ Ñ„ Ñ‹ Ğ² Ğ° Ğ¿ Ñ€ Ğ¾ Ğ» Ğ´ Ğ¶ Ñ Ñ Ñ‡ Ñ Ğ¼ Ğ¸ Ñ‚ ÑŒ Ğ± Ñ".split(" "),
    "Î•Î»Î»Î·Î½Î¹ÎºÎ¬": "Î± Ïƒ Î´ Ï† Î³ Î· Î¾ Îº Î» ; Î¶ Ï‡ Ïˆ Ï‰ Î² Î½ Î¼ Î¸ , . /".split(" "),
    "×¢×‘×¨×™×ª": "/ ' ×§ ×¨ × ×˜ ×• ×Ÿ × ×¤ ] [ ×© ×“ ×’ ×› ×¢ ×™ ×— ×œ ×š ×£ , ×– ×¡ ×‘ ×” ×  × ×¦ ×ª ×¥ .".split(" "),
    "ÙØ§Ø±Ø³ÛŒ": "Ø¶ Øµ Ø« Ù‚ Ù Øº Ø¹ Ù‡ Ø® Ø­ Ø¬ Ú† Ù¾ Ø´ Ø³ ÛŒ Ø¨ Ù„ Ø§ Øª Ù† Ù… Ú© Ú¯ Ø¸ Ø· Ø² Ø± Ø° Ø¯ Ø¦ Ùˆ".split(" "),
    "TÃ¼rkÃ§e": "q w e r t y u Ä± o p ÄŸ Ã¼ a s d f g h j k l ÅŸ i z x c v b n m Ã¶ Ã§".split(" "),
    "Italiano": "q w e r t y u i o p Ã¨ a s d f g h j k l Ã² Ã  z x c v b n m".split(" "),
    
    // Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§)
    "ä¸­æ–‡": "çš„ ä¸€ æ˜¯ åœ¨ ä¸ äº† æœ‰ å’Œ äºº è¿™ ä¸­ å¤§ ä¸º ä¸Š ä¸ª å›½ æˆ‘ ä»¥ è¦ ä»– æ—¶ æ¥ ç”¨ ä»¬ ç”Ÿ åˆ° ä½œ åœ° äº å‡º".split(" "),
    "æ—¥æœ¬èª": "ã‚ ã„ ã† ãˆ ãŠ ã‹ ã ã ã‘ ã“ ã• ã— ã™ ã› ã ãŸ ã¡ ã¤ ã¦ ã¨ ãª ã« ã¬ ã­ ã® ã¯ ã² ãµ ã¸ ã»".split(" "),
    "í•œêµ­ì–´": "ã„± ã„´ ã„· ã„¹ ã… ã…‚ ã…… ã…‡ ã…ˆ ã…Š ã…‹ ã…Œ ã… ã… ã… ã…‘ ã…“ ã…• ã…— ã…› ã…œ ã…  ã…¡ ã…£ ã… ã…’ ã…” ã…– ã…˜ ã…™".split(" "),
    "à¤¹à¤¿à¤¨à¥à¤¦à¥€": "à¤• à¤– à¤— à¤˜ à¤™ à¤š à¤› à¤œ à¤ à¤ à¤Ÿ à¤  à¤¡ à¤¢ à¤£ à¤¤ à¤¥ à¤¦ à¤§ à¤¨ à¤ª à¤« à¤¬ à¤­ à¤® à¤¯ à¤° à¤² à¤µ à¤¶ à¤· à¤¸ à¤¹".split(" "),
    "à¦¬à¦¾à¦‚à¦²à¦¾": "à¦… à¦† à¦‡ à¦ˆ à¦‰ à¦Š à¦‹ à¦ à¦ à¦“ à¦” à¦• à¦– à¦— à¦˜ à¦™ à¦š à¦› à¦œ à¦ à¦ à¦Ÿ à¦  à¦¡ à¦¢ à¦£ à¦¤ à¦¥ à¤¦ à¤§ à¤¨ à¤ª à¤« à¤¬ à¤­ à¤®".split(" "),
    "PortuguÃªs": "q w e r t y u i o p a s d f g h j k l Ã§ z x c v b n m".split(" "),
    "Nederlands": "q w e r t y u i o p a s d f g h j k l z x c v b n m".split(" "),
    "Polski": "a Ä… b c Ä‡ d e Ä™ f g h i j k l Å‚ m n Å„ o Ã³ p r s Å› t u w y z Åº Å¼".split(" "),
    "Svenska": "q w e r t y u i o p Ã¥ a s d f g h j k l Ã¶ Ã¤ z x c v b n m".split(" "),
    "Norsk": "q w e r t y u i o p Ã¥ a s d f g h j k l Ã¸ Ã¦ z x c v b n m".split(" "),
    "Dansk": "q w e r t y u i o p Ã¥ a s d f g h j k l Ã¦ Ã¸ z x c v b n m".split(" "),
    "Suomi": "q w e r t y u i o p Ã¥ a s d f g h j k l Ã¶ Ã¤ z x c v b n m".split(" "),
    "Magyar": "q w e r t z u i o p Å‘ Ãº a s d f g h j k l Ã© Ã¡ Å± z x c v b n m Ã¶ Ã¼ Ã³".split(" "),
    "ÄŒeÅ¡tina": "q w e r t z u i o p Å¯ a s d f g h j k l Ã© Ã¡ Å¾ Å¡ Ä Å™ z x c v b n m Ã­ Ã½".split(" "),
    "RomÃ¢nÄƒ": "q w e r t y u i o p Äƒ Ã¢ a s d f g h j k l È™ È› z x c v b n m Ã®".split(" "),
    "Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°": "Ğ¹ Ñ† Ñƒ Ğº Ğµ Ğ½ Ğ³ Ñˆ Ñ‰ Ğ· Ñ… Ñ— Ñ„ Ñ– Ğ² Ğ° Ğ¿ Ñ€ Ğ¾ Ğ» Ğ´ Ğ¶ Ñ” Ñ Ñ‡ Ñ Ğ¼ Ğ¸ Ñ‚ ÑŒ Ğ± Ñ".split(" "),
    "Ğ‘ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸": "Ñ Ğ² Ğµ Ñ€ Ñ‚ ÑŠ Ñƒ Ğ¸ Ğ¾ Ğ¿ Ñˆ Ñ Ğ° Ñ Ğ´ Ñ„ Ğ³ Ñ… Ğ¹ Ğº Ğ» Ğ¶ Ğ· Ñ† Ñ‡ Ñ Ğ¼ Ğ¸ Ñ‚ ÑŒ Ğ± Ğ½".split(" "),
    "Hrvatski": "q w e r t z u i o p Å¡ Ä‘ a s d f g h j k l Ä Ä‡ Å¾ z x c v b n m".split(" "),
    "à¸ à¸²à¸©à¸²à¹„à¸—à¸¢": "à¸ à¸‚ à¸ƒ à¸„ à¸… à¸† à¸‡ à¸ˆ à¸‰ à¸Š à¸‹ à¸Œ à¸ à¸ à¸ à¸ à¸‘ à¸’ à¸“ à¸” à¸• à¸– à¸— à¸˜ à¸™ à¸š à¸› à¸œ à¸ à¸ à¸Ÿ à¸  à¸¡".split(" "),
    "Tiáº¿ng Viá»‡t": "a Äƒ Ã¢ b c d Ä‘ e Ãª g h i k l m n o Ã´ Æ¡ p q r s t u Æ° v x y".split(" "),
    "Bahasa Indonesia": "a b c d e f g h i j k l m n o p q r s t u v w x y z".split(" "),
    "Bahasa Melayu": "a b c d e f g h i j k l m n o p q r s t u v w x y z".split(" "),
    "Filipino": "a b c d e f g h i j k l m n Ã± ng o p q r s t u v w x y z".split(" "),
    "Ø§Ø±Ø¯Ùˆ": "Ù‚ Ùˆ Ø¹ Ø± Øª ÛŒ Ø¤ Ù¾ Ø§ Ø³ Ø¯ Ù Ú¯ Û Ø¬ Ú© Ù„ Ø› Ø¡ Ù‘ Ø² Ø´ Ø® Ø­ Ø¶ Øµ Ø· Ø¸ Øº Ú† Ø« Ø° Úˆ".split(" "),
    "áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜": "áƒ áƒ‘ áƒ’ áƒ“ áƒ” áƒ• áƒ– áƒ— áƒ˜ áƒ™ áƒš áƒ› áƒœ áƒ áƒ áƒŸ áƒ  áƒ¡ áƒ¢ áƒ£ áƒ¤ áƒ¥ áƒ¦ áƒ§ áƒ¨ áƒ© áƒª áƒ« áƒ¬ áƒ­ áƒ® áƒ¯ áƒ°".split(" "),
    "à´®à´²à´¯à´¾à´³à´‚": "à´• à´– à´— à´˜ à´™ à´š à´› à´œ à´ à´ à´Ÿ à´  à´¡ à´¢ à´£ à´¤ à´¥ à´¦ à´§ à´¨ à´ª à´« à´¬ à´­ à´® à´¯ à´° à´² à´µ à´¶ à´·".split(" "),
    "à®¤à®®à®¿à®´à¯": "à®… à®† à®‡ à®ˆ à®‰ à®Š à® à® à® à®’ à®“ à®” à®• à®™ à®š à®œ à® à®Ÿ à®£ à®¤ à®¨ à®© à®ª à®® à®¯ à®° à®² à®µ à®´ à®³ à®± à®©".split(" "),
    "à°¤à±†à°²à±à°—à±": "à°… à°† à°‡ à°ˆ à°‰ à°Š à° à° à° à°’ à°“ à°” à°• à°– à°— à°˜ à°™ à°š à°› à°œ à° à° à°Ÿ à°  à°¡ à°¢ à°£ à°¤ à°¥ à°¦ à°§ à°¨".split(" ")
};

const languagesWithCapital = ["English", "FranÃ§ais", "EspaÃ±ol", "Deutsch", "TÃ¼rkÃ§e", "Italiano", 
                            "PortuguÃªs", "Nederlands", "Polski", "Svenska", "Norsk", "Dansk", 
                            "Suomi", "Magyar", "ÄŒeÅ¡tina", "RomÃ¢nÄƒ", "Hrvatski", "Bahasa Indonesia", 
                            "Bahasa Melayu", "Filipino"];

const languagesStateKey = "languagesState";

const languageSelect = document.getElementById("languageSelect");
const keyboard = document.getElementById("keyboard");
const symbols = document.getElementById("symbols");
const toggleCaps = document.getElementById("toggleCaps");
const fontSizeRange = document.getElementById("fontSizeRange");
const radiusRange = document.getElementById("radiusRange");
const bgInput = document.getElementById("bgInput");
const removeBgBtn = document.getElementById("removeBgBtn");
const writingBox = document.querySelector(".writingBox");
const emojiInput = document.getElementById("emojiInput");
const languageSettingsBtn = document.getElementById("languageSettingsBtn");
const languageSettings = document.getElementById("languageSettings");
const closeSettings = document.getElementById("closeSettings");
const languagesList = document.getElementById("languagesList");
const clearTextBtn = document.getElementById("clearTextBtn");

let isCapital = false;
let currentLanguage = "English";

// ØªØ­Ù…ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
let savedLanguages = JSON.parse(localStorage.getItem(languagesStateKey)) || {};

// ØªÙ‡ÙŠØ¦Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù„ØºØ§Øª Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ÙØ§Ø±ØºØ©
if (Object.keys(savedLanguages).length === 0) {
    // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© ÙÙ‚Ø· Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§
    const originalLanguages = ["English", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", "FranÃ§ais", "EspaÃ±ol", "Deutsch", 
                             "Ñ€ÑƒÑÑĞºĞ¸Ğ¹", "Î•Î»Î»Î·Î½Î¹ÎºÎ¬", "×¢×‘×¨×™×ª", "ÙØ§Ø±Ø³ÛŒ", "TÃ¼rkÃ§e", "Italiano"];
    
    Object.keys(languageLetters).forEach(lang => {
        savedLanguages[lang] = originalLanguages.includes(lang);
    });
    localStorage.setItem(languagesStateKey, JSON.stringify(savedLanguages));
}

function renderLanguageSettings() {
    languagesList.innerHTML = '';
    Object.keys(languageLetters).forEach(lang => {
        const li = document.createElement("li");
        const label = document.createElement("label");
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.checked = savedLanguages[lang] === true;
        checkbox.id = `lang-${lang}`;

        checkbox.addEventListener("change", () => {
            savedLanguages[lang] = checkbox.checked;
            localStorage.setItem(languagesStateKey, JSON.stringify(savedLanguages));
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù„ØºØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù‡ÙŠ Ø§Ù„ØªÙŠ ØªÙ… Ø¥Ù„ØºØ§Ø¡ ØªÙØ¹ÙŠÙ„Ù‡Ø§
            if (!checkbox.checked && currentLanguage === lang) {
                // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£ÙˆÙ„ Ù„ØºØ© Ù…ÙØ¹Ù„Ø©
                const firstEnabled = Object.keys(savedLanguages).find(l => savedLanguages[l]);
                if (firstEnabled) {
                    currentLanguage = firstEnabled;
                    languageSelect.value = currentLanguage;
                    renderKeyboard();
                }
            }
            
            // Ø¥Ø°Ø§ ØªÙ… ØªÙØ¹ÙŠÙ„ Ù„ØºØ© Ø¬Ø¯ÙŠØ¯Ø©
            if (checkbox.checked) {
                // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø£Ùˆ Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù„ØºØ© Ù…Ø­Ø¯Ø¯Ø©
                if (lang === "English" || !currentLanguage) {
                    currentLanguage = lang;
                    languageSelect.value = currentLanguage;
                    renderKeyboard();
                }
            }
            
            renderLanguages();
        });

        label.textContent = lang;
        label.htmlFor = `lang-${lang}`;
        li.appendChild(checkbox);
        li.appendChild(label);
        languagesList.appendChild(li);
    });
}

function renderLanguages() {
    languageSelect.innerHTML = "";
    let enabledLanguages = Object.keys(savedLanguages).filter(lang => savedLanguages[lang]);
    
    if (enabledLanguages.length === 0) {
        // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù„ØºØ§Øª Ù…ÙØ¹Ù„Ø©ØŒ Ù†ÙØ¹Ù‘Ù„ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹
        savedLanguages["English"] = true;
        localStorage.setItem(languagesStateKey, JSON.stringify(savedLanguages));
        enabledLanguages = ["English"];
        currentLanguage = "English";
    }
    
    // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù„ØºØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØºÙŠØ± Ù…ÙØ¹Ù„Ø©ØŒ Ù†Ø®ØªØ§Ø± Ø£ÙˆÙ„ Ù„ØºØ© Ù…ÙØ¹Ù„Ø©
    if (!enabledLanguages.includes(currentLanguage)) {
        currentLanguage = enabledLanguages[0];
    }

    enabledLanguages.forEach(lang => {
        const option = document.createElement("option");
        option.value = lang;
        option.textContent = lang;
        option.selected = (lang === currentLanguage);
        languageSelect.appendChild(option);
    });
}

function renderKeyboard() {
    keyboard.innerHTML = "";
    let letters = languageLetters[currentLanguage];
    if (!Array.isArray(letters)) letters = String(letters).split("");

    const displayLetters = isCapital && languagesWithCapital.includes(currentLanguage)
        ? letters.map(l => l.toUpperCase())
        : letters;

    displayLetters.forEach(letter => {
        const btn = document.createElement("button");
        btn.classList.add("class12345");
        btn.textContent = letter;
        btn.style.fontSize = fontSizeRange.value + "px";
        btn.style.borderRadius = radiusRange.value + "px";
        btn.addEventListener("click", () => {
            writingBox.value += letter;
            writingBox.focus();
        });
        keyboard.appendChild(btn);
    });

    // Ø¥Ø¸Ù‡Ø§Ø± Ø£Ùˆ Ø¥Ø®ÙØ§Ø¡ Ø²Ø± Ø§Ù„Ø£Ø­Ø±Ù Ø§Ù„ÙƒØ¨ÙŠØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
    toggleCaps.style.display = languagesWithCapital.includes(currentLanguage) ? "inline-block" : "none";
}

function renderSymbols() {
    const symbolsList = "() [] {} <> ! @ # $ % ^ & * - _ + = ? / \\ | ~ ` : ; \" ' , .".split(" ");
    symbols.innerHTML = "";
    symbolsList.forEach(sym => {
        const btn = document.createElement("button");
        btn.classList.add("wave-button");
        btn.textContent = sym;
        btn.style.fontSize = fontSizeRange.value + "px";
        btn.style.borderRadius = radiusRange.value + "px";
        btn.addEventListener("click", () => {
            writingBox.value += sym;
            writingBox.focus();
        });
        symbols.appendChild(btn);
    });
}

// ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„ØºØ©
languageSettingsBtn.addEventListener("click", () => {
    languageSettings.style.display = "block";
    renderLanguageSettings();
});

// Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„ØºØ©
closeSettings.addEventListener("click", () => {
    languageSettings.style.display = "none";
});

// Ø­Ø°Ù Ø§Ù„Ù†Øµ ÙˆØ§Ù„ØµÙˆØ± Ù…Ù† Ø®Ø§Ù†Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø©
clearTextBtn.addEventListener("click", () => {
    writingBox.value = "";
    writingBox.focus();
});

languageSelect.addEventListener("change", () => {
    currentLanguage = languageSelect.value;
    isCapital = false;
    renderKeyboard();
});

toggleCaps.addEventListener("click", () => {
    isCapital = !isCapital;
    renderKeyboard();
});

fontSizeRange.addEventListener("input", () => {
    renderKeyboard();
    renderSymbols();
});

radiusRange.addEventListener("input", () => {
    renderKeyboard();
    renderSymbols();
});

bgInput.addEventListener("change", (e) => {
    const file = e.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(evt) {
            keyboard.style.backgroundImage = `url('${evt.target.result}')`;
            removeBgBtn.style.display = "inline-block";
        };
        reader.readAsDataURL(file);
    }
});

removeBgBtn.addEventListener("click", () => {
    keyboard.style.backgroundImage = "";
    bgInput.value = "";
    removeBgBtn.style.display = "none";
});

emojiInput.addEventListener("change", (e) => {
    const file = e.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(evt) {
            const emoji = document.createElement("img");
            emoji.src = evt.target.result;
            emoji.className = "emoji-img";
            writingBox.value += emoji.outerHTML;
            writingBox.focus();
        };
        reader.readAsDataURL(file);
    }
});

// Ø§Ù„ØªØ±ÙƒÙŠØ² Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù„Ù‰ Ø®Ø§Ù†Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
writingBox.focus();

// Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
renderLanguageSettings();
renderLanguages();
renderKeyboard();
renderSymbols();
    </script>
</body>
</html>
